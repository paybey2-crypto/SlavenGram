<div id="welcome">Loading...</div>

<script>
async function init() {
  try {
    const r = await fetch('/api/me', { credentials: 'same-origin' });
    if (r.status === 200) {
      const u = await r.json();
      document.getElementById('welcome').innerHTML =
        '<strong>Welcome, ' + u.username + '</strong><p>This is a demo dashboard.</p>';
    } else {
      document.getElementById('welcome').innerHTML = 'Could not load user data.';
    }
  } catch(e) {
    document.getElementById('welcome').innerHTML = 'Could not load user data.';
  }
}
init();
</script>
